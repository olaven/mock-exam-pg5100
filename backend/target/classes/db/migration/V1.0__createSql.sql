drop table booking_entity if exists;
drop table location_entity if exists;
drop table trip_entity if exists;
drop table user_entity if exists;
drop table user_entity_roles if exists;
drop sequence if exists hibernate_sequence;
create sequence hibernate_sequence start with 1 increment by 1;
create table booking_entity (id bigint not null, time_of_purchase date not null, trip_id bigint not null, user_email varchar(255) not null, primary key (id));
create table location_entity (id bigint not null, description varchar(55), name varchar(55), primary key (id));
create table trip_entity (id bigint not null, cost integer not null check (cost>=0), date date, description varchar(150), season varchar(255), title varchar(55), location_id bigint not null, primary key (id));
create table user_entity (email varchar(255) not null, enabled boolean not null, family_name varchar(55), given_name varchar(55), password varchar(340), primary key (email));
create table user_entity_roles (user_entity_email varchar(255) not null, roles varchar(255));
alter table booking_entity add constraint FKrn5s2achnk1ee4svjj310a16d foreign key (trip_id) references trip_entity;
alter table booking_entity add constraint FK9kk9voqad8vbpcpksfh4lalti foreign key (user_email) references user_entity;
alter table trip_entity add constraint FK7o0dg29ll1wow5l29gb3dr26h foreign key (location_id) references location_entity;
alter table user_entity_roles add constraint FKn6hs2xulrxb06oc101wxtihwv foreign key (user_entity_email) references user_entity;
